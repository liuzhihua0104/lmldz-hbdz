<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奖品实际应用方案</title>
    <link href="./libs/element-ui/2.15.3/theme-chalk/index.css" rel="stylesheet" />

</head>

<body>
    <div id="prizePracticalApplicationSchemeApp">
        <application-scheme :prizeRows="prizeRows" :query="query"></application-scheme>
    </div>
</body>

</html>
<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/http-vue-loader"></script>

<script src="./libs/vue/2.6.12/vue.min.js"></script>
<script src="./libs/element-ui/2.15.3/index.min.js"></script>
<script src="./libs/axios/0.21.1/axios.min.js"></script>
<script src="./js/request.js"></script>

<script type="text/javascript">

    function getUrlQuery() {
        let search = location.search
        let obj = {}
        if (search) {
            let query = search.substring(1).split('&')
            query.forEach((queryItem) => {
                let keyValue = queryItem.split('=')
                let [key, value] = keyValue
                if (key) {
                    obj[key] = value
                }
            })
        }
        return obj
    }

    var dialogVm = new Vue({
        el: '#prizePracticalApplicationSchemeApp',
        data() {
            return {
                applicationSchemeVisible: true, // 奖品实际应用方案弹框的显示与隐藏
                prizeRows: {}, //编辑时前一个页面带过来的奖品信息
                query: {},//地址栏携带过来的参数

            }
        },
        components: {
            'application-scheme': httpVueLoader('./components/applicationScheme.vue')
        },
        mounted(){
            window.vue=this;
        },
        created() {
            let prizeRows = sessionStorage.getItem("prizeRows")
            if (prizeRows) {
                this.prizeRows = JSON.parse(prizeRows)
            }

            this.query = getUrlQuery()
            console.log(prizeRows,this.query)
           
        }
    });
</script>