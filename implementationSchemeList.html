<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>执行方案列表</title>
  <link href="./libs/element-ui/2.15.3/theme-chalk/index.css" rel="stylesheet" />
  <style>
    .expand__table {
      width: 100%;
    }

    .expand__table td {
      padding-left: 20px;
    }

    .el-table__expanded-cell {
      padding-right: 0 !important;
    }

    .pointer {
      cursor: pointer;
    }

    .tac {
      text-align: center;
    }

    .table-wrap {
      width: 100%;
      margin-bottom: 20px;
    }

    .form-item__pb0 {
      margin-bottom: 0 !important;
    }

    .el-button+.el-button {
      margin-left: 0;
    }

    .col-width-auto {
      width: auto;
    }

    .form-item__mb0 {
      margin-bottom: 0 !important;
    }

    /* 设置dialog宽度 */
    .el-dialog {
      width: 600px !important;
    }
  </style>
</head>

<body>

  <div id="app">
    <template>
      <el-form :inline="true" :model="filter" size="small">
        <el-form-item style="margin-right:0" label="关键字:">
          <el-input v-model="filter.sourceName" placeholder="执行方案名称" :clearable="true"></el-input>
        </el-form-item>
        <el-form-item>
          <el-button type="primary" @click="onSearch">查询</el-button>
          <el-button type="primary" @click="onAdd()">创建执行方案</el-button>
        </el-form-item>
      </el-form>

      <el-table :data="tableData" class="table-wrap" border align="center">
        <el-table-column label="执行方案名称" prop="name"></el-table-column>
        <el-table-column label="奖品定向关联数(个)">
          <template slot-scope="scope">
            <el-button type="text" size="small" @click="showApplicationList(scope.row)">10</el-button>
          </template>
        </el-table-column>
        <el-table-column label="地域">
          <template slot-scope="scope">
            {{scope.row.areaType==0? "不限":""}}
            {{scope.row.areaType==1? "省市区":""}}
            {{scope.row.areaType==2? "线级":""}}
          </template>
        </el-table-column>
        <el-table-column label="性别">
          <template slot-scope="scope">
            {{scope.row.sex==0? "不限":""}}
            {{scope.row.sex==1? "男":""}}
            {{scope.row.sex==2? "女":""}}
          </template>
        </el-table-column>
        <el-table-column label="联网">
          <template slot-scope="scope">
            {{scope.row.networking.split(",").indexOf("0")!=-1?"不限":""}}
            {{scope.row.networking.split(",").indexOf("1")!=-1?"wifi":" "}}
            {{scope.row.networking.split(",").indexOf("2")!=-1?"移动":" "}}
            {{scope.row.networking.split(",").indexOf("3")!=-1?"联通":" "}}
            {{scope.row.networking.split(",").indexOf("4")!=-1?"电信":" "}}
          </template>
        </el-table-column>
        <el-table-column label="工具">
          <template slot-scope="scope">
            {{scope.row.scanContent==0? "不限":""}}
            {{scope.row.scanContent==1? "微信":""}}
            {{scope.row.scanContent==2? "支付宝":""}}
          </template>
        </el-table-column>
        <el-table-column label="时段" prop="planNumber">

        </el-table-column>
        <el-table-column label="节假日">
          <template slot-scope="scope">
            {{scope.row.holidays.split(",").indexOf("0")!=-1?"不限":""}}
            {{scope.row.holidays.split(",").indexOf("1")!=-1?"节假日":" "}}
            {{scope.row.holidays.split(",").indexOf("2")!=-1?"工作日":" "}}
            {{scope.row.holidays.split(",").indexOf("3")!=-1?"星期一":" "}}
            {{scope.row.holidays.split(",").indexOf("4")!=-1?"星期二":" "}}
            {{scope.row.holidays.split(",").indexOf("5")!=-1?"星期三":" "}}
            {{scope.row.holidays.split(",").indexOf("6")!=-1?"星期四":" "}}
            {{scope.row.holidays.split(",").indexOf("7")!=-1?"星期五":" "}}
            {{scope.row.holidays.split(",").indexOf("8")!=-1?"星期六":" "}}
            {{scope.row.holidays.split(",").indexOf("9")!=-1?"星期日":" "}}
          </template>
        </el-table-column>
        <el-table-column label="设备">
          <template slot-scope="scope">
            {{scope.row.devices.split(",").indexOf("0")!=-1?"不限":""}}
            {{scope.row.devices.split(",").indexOf("1")!=-1?"ios":" "}}
            {{scope.row.devices.split(",").indexOf("2")!=-1?"Android":" "}}
            {{scope.row.devices.split(",").indexOf("3")!=-1?"HarmonyOS":" "}}
          </template>
        </el-table-column>
        <el-table-column label="创建时间" prop="createTime"></el-table-column>
        <el-table-column label="操作" width="150">
          <template slot-scope="scope">
            <el-button type="text" size="small" @click="applicationFn(scope.row)">应用</el-button>
            <el-button type="text" size="small" @click="onEdit(scope.row)">编辑</el-button>
            <el-button type="text" size="small" @click="onDel(scope.row)">删除</el-button>
            <el-button type="text" size="small" @click="copyPlan(scope.row)">复制</el-button>
          </template>
        </el-table-column>
      </el-table>
      <el-pagination class="tac" background layout="prev, pager, next" :total="page.total"
        :current-page.sync="filter.pageNum" :page-size.sync="filter.pageSize" @current-change="fetchList">
      </el-pagination>


      <!-- 奖品列表弹框 -->
      <el-dialog title="奖品列表" :visible.sync="applicationListVisible" center>
        <div style="margin-bottom: 20px">执行方案名称: 执行方案A01</div>
        <el-table :data="tableData" class="table-wrap" :border="true" size="mini">
          <el-table-column label="序号" type="index" width="100"></el-table-column>
          <el-table-column label="奖品ID名称">
            <template slot-scope="scope">
              10
            </template>
          </el-table-column>
          <el-table-column label="策略名称" prop="planNumber"></el-table-column>
        </el-table>
        <el-pagination class="tac" background layout="prev, pager, next" :total="page.total"
          :current-page.sync="filter.pageNum" :page-size.sync="filter.pageSize" @current-change="fetchList">
        </el-pagination>
        <span slot="footer" class="dialog-footer">
          <el-button type="default" @click="applicationListVisible = false">关 闭</el-button>
        </span>
      </el-dialog>


      <!-- 批量应用弹框 -->
      <el-dialog title="批量应用" :width="'1000px'" :visible.sync="batchApplicationVisible" center
        customClass="customWidth">
        <div style="margin-bottom: 20px;display: flex; justify-content: space-between;align-items: center;">
          <div> 执行方案名称: <span style="font-weight:bold">执行方案A01</span></div>
          <el-button size="mini" type="primary" @click="releaseFn">发布</el-button>
        </div>
        <!-- 表单 -->
        <el-form ref="formInline" size="mini" :inline="true" :model="formInline" class="demo-form-inline">
          <el-row>
            <el-col :span="12">
              <el-form-item style="margin-right:0" label="关键字:" prop="user" :rules="[
              { required: true, message: '关键字不能为空'}
            ]">
                <el-input v-model="formInline.user" placeholder="请输入内容" :clearable="true"></el-input>
              </el-form-item>
            </el-col>
            <el-col :span="6">
              <el-form-item label="" prop="region" :rules="[
              { required: true, message: '请选择'}
            ]">
                <el-select v-model="formInline.region" placeholder="">
                  <el-option label="奖品ID名称" value="shanghai"></el-option>
                  <el-option label="策略名称" value="beijing1"></el-option>
                  <el-option label="素材源名称" value="beijing2"></el-option>
                </el-select>
              </el-form-item>
            </el-col>
            <el-col :span="4">
              <el-form-item>
                <el-button type="default" @click="onSubmit('formInline')">搜索</el-button>
              </el-form-item>
            </el-col>
          </el-row>
        </el-form>
        <!-- 列表 -->
        <el-table :data="tableData" class="table-wrap" :border="true" size="mini"
          @selection-change="handleSelectionChange">
          <el-table-column label="序号" type="selection"></el-table-column>
          <el-table-column label="奖品ID名称">
            <template slot-scope="scope">
              10
            </template>
          </el-table-column>
          <el-table-column label="策略名称" prop="planNumber1"></el-table-column>
          <el-table-column label="素材源名称" prop="planNumber2"></el-table-column>
        </el-table>
        <el-pagination class="tac" background layout="prev, pager, next" :total="page.total"
          :current-page.sync="filter.pageNum" :page-size.sync="filter.pageSize" @current-change="fetchList">
        </el-pagination>
        <span slot="footer" class="dialog-footer">
          <el-button type="default" @click="batchApplicationVisible = false">关 闭</el-button>
        </span>
      </el-dialog>


      <!-- 复制奖品方案弹框 -->
      <el-dialog title="复制执行方案" :width="'1000px'" :visible.sync="copyPlanVisible" center customClass="customWidth">
        <el-form ref="copyFormInline" :inline="true" :model="copyFormInline" class="demo-form-inline">

          <el-form-item style="margin-right:0" label="执行方案名称:" prop="name" :rules="[
            { required: true, message: '新执行方案名称不能为空'}
          ]">
            <el-input v-model="copyFormInline.name" placeholder="新执行方案名称" :clearable="true"></el-input>
          </el-form-item>
        </el-form>
        <span slot="footer" class="dialog-footer">
          <el-button style="margin-right:20px" @click="copyPlanVisible = false">取 消</el-button>
          <el-button type="primary" @click="submitCopyForm('copyFormInline')">确 定</el-button>
        </span>
      </el-dialog>
    </template>
  </div>
  <script src="./libs/vue/2.6.12/vue.min.js"></script>
  <script src="./libs/element-ui/2.15.3/index.min.js"></script>
  <script src="./libs/axios/0.21.1/axios.min.js"></script>
  <script src="./js/request.js"></script>
  <script>

    var el = new Vue({
      el: '#app',
      data() {
        return {
          filter: {
            sourceName: '',
            // startTime: '',
            // endTime: '',
            pageNum: 1,
            pageSize: 10,
          },
          page: {
            total: 0,
          },
          tableData: [],
          rows: {},
          applicationListVisible: false, // 控制奖品列表弹框弹框的展示与隐藏
          copyPlanVisible: false, //复制执行方案的弹框


          batchApplicationVisible: false,// 控制批量应用弹框的展示与隐藏
          multipleSelection: [], //批量应用中触发多选
          formInline: {
            user: '123',
            region: 'shanghai'
          },
          copyFormInline: {
            name: ""
          }
        }
      },
      computed: {},
      methods: {
        onAdd(rows) {
          location.href = `./prizeOrientationDetails.html`
        },
        onEdit(rows) {
          location.href = `./prizeOrientationDetails.html?id=${rows.id}`
        },
        fetchList() {
          // service({
          //   url: '/prize/orientation/sList',
          //   method: 'post',
          //   data: this.filter,
          // }).then(({ data }) => {
          //   this.tableData = data.list
          //   this.page.total = data.total
          // })

          this.tableData = [
            {
              "name": "4",
              "remarks": "5",
              "areaType": "1",
              "sex": "1",
              "scanContent": "0",
              "timeType": "0",
              "areaJson": [
                [
                  3,
                  210000,
                  210100,
                  210102
                ],
                [
                  3,
                  210000,
                  210100,
                  210103
                ],
                [
                  3,
                  210000,
                  210100,
                  210104
                ],
                [
                  3,
                  210000,
                  210100,
                  210105
                ],
                [
                  3,
                  210000,
                  210100,
                  210106
                ],
                [
                  3,
                  210000,
                  210100,
                  210111
                ],
                [
                  3,
                  210000,
                  210100,
                  210112
                ],
                [
                  3,
                  210000,
                  210100,
                  210113
                ],
                [
                  3,
                  210000,
                  210100,
                  210114
                ],
                [
                  3,
                  210000,
                  210100,
                  210115
                ],
                [
                  3,
                  210000,
                  210100,
                  210123
                ],
                [
                  3,
                  210000,
                  210100,
                  210124
                ],
                [
                  3,
                  210000,
                  210100,
                  210181
                ],
                [
                  3,
                  210000,
                  210200,
                  210202
                ],
                [
                  3,
                  210000,
                  210200,
                  210203
                ],
                [
                  3,
                  210000,
                  210200,
                  210204
                ],
                [
                  3,
                  210000,
                  210200,
                  210211
                ],
                [
                  3,
                  210000,
                  210200,
                  210212
                ],
                [
                  3,
                  210000,
                  210200,
                  210213
                ],
                [
                  3,
                  210000,
                  210200,
                  210214
                ],
                [
                  3,
                  210000,
                  210200,
                  210224
                ],
                [
                  3,
                  210000,
                  210200,
                  210281
                ],
                [
                  3,
                  210000,
                  210200,
                  210283
                ],
                [
                  3,
                  210000,
                  210300,
                  210302
                ],
                [
                  3,
                  210000,
                  210300,
                  210303
                ],
                [
                  3,
                  210000,
                  210300,
                  210304
                ],
                [
                  3,
                  210000,
                  210300,
                  210311
                ],
                [
                  3,
                  210000,
                  210300,
                  210321
                ],
                [
                  3,
                  210000,
                  210300,
                  210323
                ],
                [
                  3,
                  210000,
                  210300,
                  210381
                ],
                [
                  3,
                  210000,
                  210400,
                  210402
                ],
                [
                  3,
                  210000,
                  210400,
                  210403
                ],
                [
                  3,
                  210000,
                  210400,
                  210404
                ],
                [
                  3,
                  210000,
                  210400,
                  210411
                ],
                [
                  3,
                  210000,
                  210400,
                  210421
                ],
                [
                  3,
                  210000,
                  210400,
                  210422
                ],
                [
                  3,
                  210000,
                  210400,
                  210423
                ],
                [
                  3,
                  210000,
                  210500,
                  210502
                ],
                [
                  3,
                  210000,
                  210500,
                  210503
                ],
                [
                  3,
                  210000,
                  210500,
                  210504
                ],
                [
                  3,
                  210000,
                  210500,
                  210505
                ],
                [
                  3,
                  210000,
                  210500,
                  210521
                ],
                [
                  3,
                  210000,
                  210500,
                  210522
                ],
                [
                  3,
                  210000,
                  210600,
                  210602
                ],
                [
                  3,
                  210000,
                  210600,
                  210603
                ],
                [
                  3,
                  210000,
                  210600,
                  210604
                ],
                [
                  3,
                  210000,
                  210600,
                  210624
                ],
                [
                  3,
                  210000,
                  210600,
                  210681
                ],
                [
                  3,
                  210000,
                  210600,
                  210682
                ],
                [
                  3,
                  210000,
                  210700,
                  210702
                ],
                [
                  3,
                  210000,
                  210700,
                  210703
                ],
                [
                  3,
                  210000,
                  210700,
                  210711
                ],
                [
                  3,
                  210000,
                  210700,
                  210726
                ],
                [
                  3,
                  210000,
                  210700,
                  210727
                ],
                [
                  3,
                  210000,
                  210700,
                  210781
                ],
                [
                  3,
                  210000,
                  210700,
                  210782
                ],
                [
                  3,
                  210000,
                  210800,
                  210802
                ],
                [
                  3,
                  210000,
                  210800,
                  210803
                ],
                [
                  3,
                  210000,
                  210800,
                  210804
                ],
                [
                  3,
                  210000,
                  210800,
                  210811
                ],
                [
                  3,
                  210000,
                  210800,
                  210881
                ],
                [
                  3,
                  210000,
                  210800,
                  210882
                ],
                [
                  3,
                  210000,
                  210900,
                  210902
                ],
                [
                  3,
                  210000,
                  210900,
                  210903
                ],
                [
                  3,
                  210000,
                  210900,
                  210904
                ],
                [
                  3,
                  210000,
                  210900,
                  210905
                ],
                [
                  3,
                  210000,
                  210900,
                  210911
                ],
                [
                  3,
                  210000,
                  210900,
                  210921
                ],
                [
                  3,
                  210000,
                  210900,
                  210922
                ],
                [
                  3,
                  210000,
                  211000,
                  211002
                ],
                [
                  3,
                  210000,
                  211000,
                  211003
                ],
                [
                  3,
                  210000,
                  211000,
                  211004
                ],
                [
                  3,
                  210000,
                  211000,
                  211005
                ],
                [
                  3,
                  210000,
                  211000,
                  211011
                ],
                [
                  3,
                  210000,
                  211000,
                  211021
                ],
                [
                  3,
                  210000,
                  211000,
                  211081
                ],
                [
                  3,
                  210000,
                  211100,
                  211102
                ],
                [
                  3,
                  210000,
                  211100,
                  211103
                ],
                [
                  3,
                  210000,
                  211100,
                  211104
                ],
                [
                  3,
                  210000,
                  211100,
                  211122
                ],
                [
                  3,
                  210000,
                  211200,
                  211202
                ],
                [
                  3,
                  210000,
                  211200,
                  211204
                ],
                [
                  3,
                  210000,
                  211200,
                  211221
                ],
                [
                  3,
                  210000,
                  211200,
                  211223
                ],
                [
                  3,
                  210000,
                  211200,
                  211224
                ],
                [
                  3,
                  210000,
                  211200,
                  211281
                ],
                [
                  3,
                  210000,
                  211200,
                  211282
                ],
                [
                  3,
                  210000,
                  211300,
                  211302
                ],
                [
                  3,
                  210000,
                  211300,
                  211303
                ],
                [
                  3,
                  210000,
                  211300,
                  211321
                ],
                [
                  3,
                  210000,
                  211300,
                  211322
                ],
                [
                  3,
                  210000,
                  211300,
                  211324
                ],
                [
                  3,
                  210000,
                  211300,
                  211381
                ],
                [
                  3,
                  210000,
                  211300,
                  211382
                ],
                [
                  3,
                  210000,
                  211400,
                  211402
                ],
                [
                  3,
                  210000,
                  211400,
                  211403
                ],
                [
                  3,
                  210000,
                  211400,
                  211404
                ],
                [
                  3,
                  210000,
                  211400,
                  211421
                ],
                [
                  3,
                  210000,
                  211400,
                  211422
                ],
                [
                  3,
                  210000,
                  211400,
                  211481
                ],
                [
                  3,
                  220000,
                  220100,
                  220102
                ],
                [
                  3,
                  220000,
                  220100,
                  220103
                ],
                [
                  3,
                  220000,
                  220100,
                  220104
                ],
                [
                  3,
                  220000,
                  220100,
                  220105
                ],
                [
                  3,
                  220000,
                  220100,
                  220106
                ],
                [
                  3,
                  220000,
                  220100,
                  220112
                ],
                [
                  3,
                  220000,
                  220100,
                  220113
                ],
                [
                  3,
                  220000,
                  220100,
                  220122
                ],
                [
                  3,
                  220000,
                  220100,
                  220182
                ],
                [
                  3,
                  220000,
                  220100,
                  220183
                ],
                [
                  3,
                  220000,
                  220100,
                  220184
                ],
                [
                  3,
                  220000,
                  220200,
                  220202
                ],
                [
                  3,
                  220000,
                  220200,
                  220203
                ],
                [
                  3,
                  220000,
                  220200,
                  220204
                ],
                [
                  3,
                  220000,
                  220200,
                  220211
                ],
                [
                  3,
                  220000,
                  220200,
                  220221
                ],
                [
                  3,
                  220000,
                  220200,
                  220281
                ],
                [
                  3,
                  220000,
                  220200,
                  220282
                ],
                [
                  3,
                  220000,
                  220200,
                  220283
                ],
                [
                  3,
                  220000,
                  220200,
                  220284
                ],
                [
                  3,
                  220000,
                  220300,
                  220302
                ],
                [
                  3,
                  220000,
                  220300,
                  220303
                ],
                [
                  3,
                  220000,
                  220300,
                  220322
                ],
                [
                  3,
                  220000,
                  220300,
                  220323
                ],
                [
                  3,
                  220000,
                  220300,
                  220382
                ],
                [
                  3,
                  220000,
                  220400,
                  220402
                ],
                [
                  3,
                  220000,
                  220400,
                  220403
                ],
                [
                  3,
                  220000,
                  220400,
                  220421
                ],
                [
                  3,
                  220000,
                  220400,
                  220422
                ],
                [
                  3,
                  220000,
                  220500,
                  220502
                ],
                [
                  3,
                  220000,
                  220500,
                  220503
                ],
                [
                  3,
                  220000,
                  220500,
                  220521
                ],
                [
                  3,
                  220000,
                  220500,
                  220523
                ],
                [
                  3,
                  220000,
                  220500,
                  220524
                ],
                [
                  3,
                  220000,
                  220500,
                  220581
                ],
                [
                  3,
                  220000,
                  220500,
                  220582
                ],
                [
                  3,
                  220000,
                  220600,
                  220602
                ],
                [
                  3,
                  220000,
                  220600,
                  220605
                ],
                [
                  3,
                  220000,
                  220600,
                  220621
                ],
                [
                  3,
                  220000,
                  220600,
                  220622
                ],
                [
                  3,
                  220000,
                  220600,
                  220623
                ],
                [
                  3,
                  220000,
                  220600,
                  220681
                ],
                [
                  3,
                  220000,
                  220700,
                  220702
                ],
                [
                  3,
                  220000,
                  220700,
                  220721
                ],
                [
                  3,
                  220000,
                  220700,
                  220722
                ],
                [
                  3,
                  220000,
                  220700,
                  220723
                ],
                [
                  3,
                  220000,
                  220700,
                  220781
                ],
                [
                  3,
                  220000,
                  220800,
                  220802
                ],
                [
                  3,
                  220000,
                  220800,
                  220821
                ],
                [
                  3,
                  220000,
                  220800,
                  220822
                ],
                [
                  3,
                  220000,
                  220800,
                  220881
                ],
                [
                  3,
                  220000,
                  220800,
                  220882
                ],
                [
                  3,
                  220000,
                  222400,
                  222401
                ],
                [
                  3,
                  220000,
                  222400,
                  222402
                ],
                [
                  3,
                  220000,
                  222400,
                  222403
                ],
                [
                  3,
                  220000,
                  222400,
                  222404
                ],
                [
                  3,
                  220000,
                  222400,
                  222405
                ],
                [
                  3,
                  220000,
                  222400,
                  222406
                ],
                [
                  3,
                  220000,
                  222400,
                  222424
                ],
                [
                  3,
                  220000,
                  222400,
                  222426
                ],
                [
                  3,
                  230000,
                  230100,
                  230102
                ],
                [
                  3,
                  230000,
                  230100,
                  230103
                ],
                [
                  3,
                  230000,
                  230100,
                  230104
                ],
                [
                  3,
                  230000,
                  230100,
                  230108
                ],
                [
                  3,
                  230000,
                  230100,
                  230109
                ],
                [
                  3,
                  230000,
                  230100,
                  230110
                ],
                [
                  3,
                  230000,
                  230100,
                  230111
                ],
                [
                  3,
                  230000,
                  230100,
                  230112
                ],
                [
                  3,
                  230000,
                  230100,
                  230113
                ],
                [
                  3,
                  230000,
                  230100,
                  230123
                ],
                [
                  3,
                  230000,
                  230100,
                  230124
                ],
                [
                  3,
                  230000,
                  230100,
                  230125
                ],
                [
                  3,
                  230000,
                  230100,
                  230126
                ],
                [
                  3,
                  230000,
                  230100,
                  230127
                ],
                [
                  3,
                  230000,
                  230100,
                  230128
                ],
                [
                  3,
                  230000,
                  230100,
                  230129
                ],
                [
                  3,
                  230000,
                  230100,
                  230183
                ],
                [
                  3,
                  230000,
                  230100,
                  230184
                ],
                [
                  3,
                  230000,
                  230200,
                  230202
                ],
                [
                  3,
                  230000,
                  230200,
                  230203
                ],
                [
                  3,
                  230000,
                  230200,
                  230204
                ],
                [
                  3,
                  230000,
                  230200,
                  230205
                ],
                [
                  3,
                  230000,
                  230200,
                  230206
                ],
                [
                  3,
                  230000,
                  230200,
                  230207
                ],
                [
                  3,
                  230000,
                  230200,
                  230208
                ],
                [
                  3,
                  230000,
                  230200,
                  230221
                ],
                [
                  3,
                  230000,
                  230200,
                  230223
                ],
                [
                  3,
                  230000,
                  230200,
                  230224
                ],
                [
                  3,
                  230000,
                  230200,
                  230225
                ],
                [
                  3,
                  230000,
                  230200,
                  230227
                ],
                [
                  3,
                  230000,
                  230200,
                  230229
                ],
                [
                  3,
                  230000,
                  230200,
                  230230
                ],
                [
                  3,
                  230000,
                  230200,
                  230231
                ],
                [
                  3,
                  230000,
                  230200,
                  230281
                ],
                [
                  3,
                  230000,
                  230300,
                  230302
                ],
                [
                  3,
                  230000,
                  230300,
                  230303
                ],
                [
                  3,
                  230000,
                  230300,
                  230304
                ],
                [
                  3,
                  230000,
                  230300,
                  230305
                ],
                [
                  3,
                  230000,
                  230300,
                  230306
                ],
                [
                  3,
                  230000,
                  230300,
                  230307
                ],
                [
                  3,
                  230000,
                  230300,
                  230321
                ],
                [
                  3,
                  230000,
                  230300,
                  230381
                ],
                [
                  3,
                  230000,
                  230300,
                  230382
                ],
                [
                  3,
                  230000,
                  230400,
                  230402
                ],
                [
                  3,
                  230000,
                  230400,
                  230403
                ],
                [
                  3,
                  230000,
                  230400,
                  230404
                ],
                [
                  3,
                  230000,
                  230400,
                  230405
                ],
                [
                  3,
                  230000,
                  230400,
                  230406
                ],
                [
                  3,
                  230000,
                  230400,
                  230407
                ],
                [
                  3,
                  230000,
                  230400,
                  230421
                ],
                [
                  3,
                  230000,
                  230400,
                  230422
                ],
                [
                  3,
                  230000,
                  230500,
                  230502
                ],
                [
                  3,
                  230000,
                  230500,
                  230503
                ],
                [
                  3,
                  230000,
                  230500,
                  230505
                ],
                [
                  3,
                  230000,
                  230500,
                  230506
                ],
                [
                  3,
                  230000,
                  230500,
                  230521
                ],
                [
                  3,
                  230000,
                  230500,
                  230522
                ],
                [
                  3,
                  230000,
                  230500,
                  230523
                ],
                [
                  3,
                  230000,
                  230500,
                  230524
                ],
                [
                  3,
                  230000,
                  230600,
                  230602
                ],
                [
                  3,
                  230000,
                  230600,
                  230603
                ],
                [
                  3,
                  230000,
                  230600,
                  230604
                ],
                [
                  3,
                  230000,
                  230600,
                  230605
                ],
                [
                  3,
                  230000,
                  230600,
                  230606
                ],
                [
                  3,
                  230000,
                  230600,
                  230621
                ],
                [
                  3,
                  230000,
                  230600,
                  230622
                ],
                [
                  3,
                  230000,
                  230600,
                  230623
                ],
                [
                  3,
                  230000,
                  230600,
                  230624
                ],
                [
                  3,
                  230000,
                  230700,
                  230717
                ],
                [
                  3,
                  230000,
                  230700,
                  230718
                ],
                [
                  3,
                  230000,
                  230700,
                  230719
                ],
                [
                  3,
                  230000,
                  230700,
                  230722
                ],
                [
                  3,
                  230000,
                  230700,
                  230723
                ],
                [
                  3,
                  230000,
                  230700,
                  230724
                ],
                [
                  3,
                  230000,
                  230700,
                  230725
                ],
                [
                  3,
                  230000,
                  230700,
                  230726
                ],
                [
                  3,
                  230000,
                  230700,
                  230751
                ],
                [
                  3,
                  230000,
                  230700,
                  230781
                ],
                [
                  3,
                  230000,
                  230800,
                  230803
                ],
                [
                  3,
                  230000,
                  230800,
                  230804
                ],
                [
                  3,
                  230000,
                  230800,
                  230805
                ],
                [
                  3,
                  230000,
                  230800,
                  230811
                ],
                [
                  3,
                  230000,
                  230800,
                  230822
                ],
                [
                  3,
                  230000,
                  230800,
                  230826
                ],
                [
                  3,
                  230000,
                  230800,
                  230828
                ],
                [
                  3,
                  230000,
                  230800,
                  230881
                ],
                [
                  3,
                  230000,
                  230800,
                  230882
                ],
                [
                  3,
                  230000,
                  230800,
                  230883
                ],
                [
                  3,
                  230000,
                  230900,
                  230902
                ],
                [
                  3,
                  230000,
                  230900,
                  230903
                ],
                [
                  3,
                  230000,
                  230900,
                  230904
                ],
                [
                  3,
                  230000,
                  230900,
                  230921
                ],
                [
                  3,
                  230000,
                  231000,
                  231002
                ],
                [
                  3,
                  230000,
                  231000,
                  231003
                ],
                [
                  3,
                  230000,
                  231000,
                  231004
                ],
                [
                  3,
                  230000,
                  231000,
                  231005
                ],
                [
                  3,
                  230000,
                  231000,
                  231025
                ],
                [
                  3,
                  230000,
                  231000,
                  231081
                ],
                [
                  3,
                  230000,
                  231000,
                  231083
                ],
                [
                  3,
                  230000,
                  231000,
                  231084
                ],
                [
                  3,
                  230000,
                  231000,
                  231085
                ],
                [
                  3,
                  230000,
                  231000,
                  231086
                ],
                [
                  3,
                  230000,
                  231100,
                  231102
                ],
                [
                  3,
                  230000,
                  231100,
                  231123
                ],
                [
                  3,
                  230000,
                  231100,
                  231124
                ],
                [
                  3,
                  230000,
                  231100,
                  231181
                ],
                [
                  3,
                  230000,
                  231100,
                  231182
                ],
                [
                  3,
                  230000,
                  231100,
                  231183
                ],
                [
                  3,
                  230000,
                  231200,
                  231202
                ],
                [
                  3,
                  230000,
                  231200,
                  231221
                ],
                [
                  3,
                  230000,
                  231200,
                  231222
                ],
                [
                  3,
                  230000,
                  231200,
                  231223
                ],
                [
                  3,
                  230000,
                  231200,
                  231224
                ],
                [
                  3,
                  230000,
                  231200,
                  231225
                ],
                [
                  3,
                  230000,
                  231200,
                  231226
                ],
                [
                  3,
                  230000,
                  231200,
                  231281
                ],
                [
                  3,
                  230000,
                  231200,
                  231282
                ],
                [
                  3,
                  230000,
                  231200,
                  231283
                ],
                [
                  3,
                  230000,
                  232700,
                  232701
                ],
                [
                  3,
                  230000,
                  232700,
                  232718
                ],
                [
                  3,
                  230000,
                  232700,
                  232721
                ],
                [
                  3,
                  230000,
                  232700,
                  232722
                ]
              ],
              "areaContent": "3",
              "networking": "2,3,4,5",
              "holidays": "0",
              "devices": "0"
            }]
        },
        //搜索
        onSearch() {
          this.filter.pageNum = 1
          this.filter.pageSize = 10
          this.fetchList()
        },
        //启用停用
        getSwitchStatus() {
          service({
            url: '/qmFactoryLine/v1/updateFactory',
            method: 'post',
            data: {
              factoryId: this.rows.id,
              isClose: this.rows.status,
            },
          }).then(() => {
            this.fetchList()
          })
        },
        onDel(rows) {
          this.rows = rows
          this.$confirm('确认删除吗?', '提示', {
            confirmButtonText: '确定',
            cancelButtonText: '取消',
            type: 'warning',
          })
            .then(() => {
              this.getDel()
            })
            .catch(() => { })
        },
        // 删除
        getDel() {
          service({
            url: '/user/strategy/inversion/delete.shtml',
            method: 'post',
            data: {
              id: this.rows.id,
            },
          }).then(() => {
            this.fetchList()
          })
        },
        onSwitchStatus(rows) {
          this.rows = rows
          this.$confirm('确认切换此状态吗?', '提示', {
            confirmButtonText: '确定',
            cancelButtonText: '取消',
            type: 'warning',
          })
            .then(() => {
              this.getSwitchStatus()
            })
            .catch(() => { })
        },
        // 切换状态
        getSwitchStatus() {
          service({
            url: '/user/strategy/inversion/switch',
            method: 'put',
            data: {
              id: this.rows.id,
              switch: Number(!this.rows.switch),
            },
          }).then(() => {
            this.fetchList()
          })
        },

        // 点击列表数字，弹出“奖品列表弹框
        showApplicationList(rows) {
          console.log(rows)
          this.applicationListVisible = true;

        },
        // 点击批量应用，弹出“批量应用”弹框
        applicationFn(rows) {
          console.log(rows)
          this.batchApplicationVisible = true;
        },
        // 批量应用弹框-触发多选
        handleSelectionChange(val) {
          this.multipleSelection = val;
          console.log(this.multipleSelection)
        },
        // 批量应用弹框-点击发布
        releaseFn() {
          if (!this.multipleSelection.length) {
            this.$message({
              message: '请先勾选数据',
              type: 'warning'
            });
          }
          console.log("点击了发布")
        },
        // 批量应用弹框-点击搜索
        // onSubmit() {
        //   console.log('submit!');
        // },
        // 展示复制执行方案弹框
        copyPlan(row) {
          console.log(row)
          this.copyPlanVisible = true;
        },
        onSubmit(formName) {
          console.log(formName)
          this.$refs[formName].validate((valid) => {
            if (valid) {
              console.log(this.formInline)
              console.log(valid)
              // alert('submit!');
            } else {
              // console.log('error submit!!');
              return false;
            }
          });
        },
        // 保存复制
        submitCopyForm(formName) {
          console.log(formName)
          this.$refs[formName].validate((valid) => {
            if (valid) {
              console.log(this.copyFormInline)
              console.log(valid)
              // alert('submit!');
            } else {
              // console.log('error submit!!');
              return false;
            }
          });
        }
      },
      created() {
        this.fetchList()
      },
    })
  </script>
</body>

</html>