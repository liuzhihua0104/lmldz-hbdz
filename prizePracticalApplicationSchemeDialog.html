<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> 奖品实际应用方案</title>
  <link href="./libs/element-ui/2.15.3/theme-chalk/index.css" rel="stylesheet" />
  <style>
    .title {
      margin-bottom: 20px;
      font-weight: 500;
      font-size: 14px;
      background: #e5e9f2;
      border-radius: 4px;
      line-height: 30px;
      padding-left: 20px;

    }

    /* switch */
    .el-switch {
      position: relative;
      height: 24px;
      line-height: 24px;
    }

    .el-switch.is-checked .el-switch__core {
      background: #179bff;
    }

    .el-switch.is-checked .el-switch__core:after {
      margin-left: -23px;
    }

    .el-switch .el-switch__label,
    .el-switch .el-switch__core {
      height: 24px;
    }

    .el-switch .el-switch__core {
      border-radius: 12px;
      border: none;
      background: #f1f1f1;
    }

    .el-switch .el-switch__core:after {
      box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.3);
      width: 22px;
      height: 22px;
    }

    .el-switch .el-switch__label.is-active {
      color: #333;
    }

    .el-switch .el-switch__label--right {
      margin-left: -28px;
      position: absolute;
      right: 5px;
      top: -1px;
      color: #999;
    }

    .el-switch .el-switch__label--right.is-active {
      color: #fff;
      left: 10px;
    }

    .el-switch .el-switch__label--right>span {
      font-size: 12px;
    }

    /* table */
    .el-table {
      margin-bottom: 20px;
    }

    /* dialog */
    /* .el-dialog__body {
      padding-bottom: 0 !important;
    } */
  </style>
</head>

<body>

  <button id="btn" bindId="rose" onclick="fn('123')">点击换起vue弹框</button>


  <div id="app">
    <template>
      <el-dialog title="奖品实际应用方案" :visible.sync="applicationSchemeVisible" center>
        <!-- 表单 -->

        <el-form label-position="right" label-width="100px" :rules="formRules" ref="formData" :model="formData"
          size="mini">
          <div class="title">信息</div>

          <!-- 主要信息-展示用 -->
          <el-row>
            <el-col :span="12">
              <el-form-item style="margin-right:0" label="奖品ID:" prop="user">
                <el-input disabled class="inputWidth" v-model="formData.user" placeholder="请输入内容"></el-input>
              </el-form-item>
            </el-col>
            <el-col :span="12">
              <el-form-item style="margin-right:0" label="策略名称:" prop="user">
                <el-input disabled class="inputWidth" v-model="formData.user" placeholder="请输入内容"></el-input>
              </el-form-item>
            </el-col>
            <el-col :span="12">
              <el-form-item style="margin-right:0" label="奖品名称:" prop="user">
                <el-input disabled class="inputWidth" v-model="formData.user" placeholder="请输入内容"></el-input>
              </el-form-item>
            </el-col>
            <el-col :span="12">
              <el-form-item style="margin-right:0" label="素材源名称:" prop="user">
                <el-input disabled class="inputWidth" v-model="formData.user" placeholder="请输入内容"></el-input>
              </el-form-item>
            </el-col>
          </el-row>


          <div class="title">实际应用方案</div>

          <el-button @click="showPlan" style="margin-bottom:10px" type="primary" plain size="small">添加方案</el-button>

          <!-- 执行方案列表表格 -->
          <el-table :data="planListData" height="250" border style="width: 100%" size="mini"
            :header-cell-style="{background:'#e5e9f2'}">
            <el-table-column label="开关" width="100" align="center">
              <template slot-scope="scope">
                <el-switch inactive-color="#cccccc" @change="planChangeSwitch(scope.row)" v-model="scope.row.status==1"
                  :active-text="scope.row.status == 1 ? '开' : '关'" :width="50">
                </el-switch>
              </template>
            </el-table-column>
            <el-table-column align="center" prop="date" label="执行方案名称">
            </el-table-column>
            <el-table-column align="center" prop="name" label="最近一次操作人">
            </el-table-column>
            <el-table-column align="center" label="操作" width="150">
              <template slot-scope="scope">
                <el-button type="text" size="small" @click="planlook(scope.row)">查看</el-button>
                <el-button type="text" size="small" @click="planEdit(scope.row)">编辑</el-button>
                <el-button type="text" size="small" @click="planDel(scope.row)">删除</el-button>
              </template>
            </el-table-column>
          </el-table>

          <!-- 条件表格-最多3条-->
          <el-table :data="conditionListData" border style="width: 100%" size="mini"
            :header-cell-style="{background:'#e5e9f2'}" style="margin-bottom:20px">
            <el-table-column align="center" label="开关" width="100">
              <template slot-scope="scope">
                <el-switch inactive-color="#cccccc" @change="conditionChangeSwitch(scope.row)"
                  v-model="scope.row.status==1" :active-text="scope.row.status == 1 ? '开' : '关'" :width="50">
                </el-switch>
              </template>
            </el-table-column>
            <el-table-column align="center" prop="date" label="商务投放限制条件" width="180">
            </el-table-column>
            <el-table-column align="center" prop="date" label="状态">
            </el-table-column>
            <el-table-column align="center" prop="name" label="最近一次操作人">
            </el-table-column>
            <el-table-column align="center" label="操作" width="150">
              <template slot-scope="scope">
                <el-button type="text" size="small" @click="conditionlook(scope.row)">查看</el-button>
                <el-button type="text" size="small" @click="conditionEdit(scope.row)">编辑</el-button>
                <el-button type="text" size="small" @click="conditionDel(scope.row)">删除</el-button>
              </template>
            </el-table-column>
          </el-table>

          <!-- <el-form-item>
            <el-button type="default" @click="onConfirm('formData')">搜索</el-button>
          </el-form-item> -->
        </el-form>




        <!-- 底部关闭按钮 -->
        <!-- <span slot="footer" class="dialog-footer">
          <el-button @click="centerDialogVisible = false">取 消</el-button>
          <el-button type="primary" @click="centerDialogVisible = false">确 定</el-button>
        </span> -->
      </el-dialog>





      <!-- 执行方案列表弹框 -->
      <el-dialog :width="'600px'" height="250" title="执行方案列表" :visible.sync="implementationSchemeVisible" center
        customClass="customWidth">
        <div style="margin-bottom: 20px;display: flex; justify-content: space-between;align-items: center;">
          <div></div>
          <el-button size="mini" type="primary" @click="releaseFn">应用</el-button>
        </div>
        <!-- 表单 -->
        <el-form ref="formInline" size="mini" :inline="true" :model="formInline" class="demo-form-inline">
          <el-form-item style="margin-right:0" label="执行方案名称:" prop="user" :rules="[
              { required: true, message: '执行方案名称不能为空'}
            ]">
            <el-input v-model="formInline.user" placeholder="请输入执行方案名称" :clearable="true"></el-input>
          </el-form-item>
          <el-form-item>
            <el-button type="default" @click="planListSearch('formInline')">搜索</el-button>
          </el-form-item>
        </el-form>

        <!-- 列表 -->
        <el-table :data="implementationSchemeListData" class="table-wrap" :border="true" size="mini"
          :header-cell-style="{background:'#e5e9f2'}" @selection-change="handleSelectionChange" height="250">
          <el-table-column align="center" width="100" label="序号" type="selection"></el-table-column>

          <el-table-column align="center" label="执行方案名称" prop="date"></el-table-column>
        </el-table>
        <!-- <el-pagination class="tac" background layout="prev, pager, next" :total="page.total"
          :current-page.sync="filter.pageNum" :page-size.sync="filter.pageSize" @current-change="fetchList">
        </el-pagination> -->
        <span slot="footer" class="dialog-footer">
          <el-button type="default" @click="closeImplementationPlan">关 闭</el-button>
        </span>
      </el-dialog>

    </template>
  </div>
  <script src="./libs/vue/2.6.12/vue.min.js"></script>
  <script src="./libs/element-ui/2.15.3/index.min.js"></script>
  <script src="./libs/axios/0.21.1/axios.min.js"></script>
  <script src="./js/request.js"></script>
  <script type="module">
    import Vm from './prizePracticalApplicationSchemeDialog.js';
    window.Vm = Vm;
  </script>
</body>

</html>

<script>
  window.onload = function () {
    let btn = document.getElementById("btn");
    btn.addEventListener("click", function (e) {
      console.log(e.target.attributes.bindId)
      Vm.applicationSchemeVisible = true;
      // Vm.formData.user = 456;

      // setTimeout(function () {
      //   console.log(111)
      //   Vm.testFn();
      // }, 3000)
    })


  }
  function fn(e, value) {
    console.log(e, value)
  }

</script>